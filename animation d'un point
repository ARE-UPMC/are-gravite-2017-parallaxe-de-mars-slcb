# -*- coding: utf-8 -*-

"""
Animation d'une particule se baladant sur une ellipse
"""

from __future__ import division
from scipy import *                 
from pylab import *
import os

#initialisation
tini = 0
tfin = 2
Npas = 100

#Positions Successives
def Positions(t):
    x = 0.5*cos(2*pi*t)
    y = 0.5*sin(2*pi*t)
    return [x, y]

# Construction d'une s√©rie d'images et de leur assemblage dans une animation
for k in range(Npas):
    t = tini + (tfin-tini)*k/(Npas-1)
    plot(Positions(t)[0], Positions(t)[1], 'o', color='b')
    axis([-1, 1, -1, 1])
    filename = 'fichierTemp'+str('%02d' %k)+'.pdf'
    savefig(filename)
    print 'Nplot = ',  k
    clf()

# convert est une fonction d'ImageMagick : option -delay en 1/100 de seconde
cmd = 'convert fichierTemp*.pdf Modele_animation_001a.gif'
os.system(cmd)
os.system('del *.pdf')    # destruction des fichiers temporaires (utiliser rem sous Linux)
print "C'est fini !"
